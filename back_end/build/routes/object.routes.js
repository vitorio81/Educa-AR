"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = require("express");
const object_controller_1 = require("../controller/object.controller");
const ObjectRaModelRepository_1 = require("../repositories/objectRa/ObjectRaModelRepository");
const RoomModelRepository_1 = require("../repositories/room/RoomModelRepository");
const r2UploadService_1 = require("../services/r2UploadService");
const upload_middleware_1 = require("../middlewares/upload.middleware");
const objectRouter = (0, express_1.Router)();
const objectRaRepo = new ObjectRaModelRepository_1.ObjectRaMysqlRepository();
const roomRepo = new RoomModelRepository_1.RoomMySQLRepository();
const r2UploadService = new r2UploadService_1.R2UploadService();
const objectRaController = new object_controller_1.ObjectRaController(objectRaRepo, roomRepo, r2UploadService);
objectRouter.get("/objectsRa", objectRaController.indexAll);
objectRouter.get("/objectsRa/user/:userId", objectRaController.indexByUser);
objectRouter.get("/objectsRa/room/:roomId", objectRaController.index);
objectRouter.post("/objectsRa", upload_middleware_1.upload.single("file"), objectRaController.store);
objectRouter.get("/objectsRa/:objectId", objectRaController.show);
objectRouter.get("/rooms/:roomId/objects/:objectId", objectRaController.showByRoom);
objectRouter.put("/objectsRa/:objectId", upload_middleware_1.upload.single("file"), objectRaController.update);
objectRouter.put("/objectsRa/:objectId", upload_middleware_1.upload.single("file"), objectRaController.update);
objectRouter.delete("/objectsRa/:objectId", objectRaController.delete);
exports.default = objectRouter;
